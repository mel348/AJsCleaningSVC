@model IEnumerable<AJsCleaning.Models.Services>

@{
    ViewData["Title"] = "Services";
}
<div class="img-bg-container " style="height:90vh;">
    <h1 class="text-center">Services</h1>

    <p class="text-end">
        <a asp-action="Create" >Create New</a>
    </p>
    <table class="table ">
        <tbody>
            @foreach (var typeGroup in Model.GroupBy(item => item.Type))
            {
                <tr class="type-row" >
                    <th colspan="3" class="toggle-service">@Html.DisplayFor(modelItem => typeGroup.Key)</th>
                </tr>

                @foreach (var serviceGroup in typeGroup.GroupBy(item => item.Service))
                {
                    <tr class="service-row">
                        <th class="toggle-description" colspan="3">
                            @Html.DisplayFor(modelItem => serviceGroup.First().Service)
                        
                        </th>
                    </tr>

                    <tr class="description-row py-5">
                        <td colspan="3">
                            <span class="description" data-description="@Html.DisplayFor(modelItem => serviceGroup.First().Description)"></span>
                            <a asp-controller="Services" asp-action="Edit" asp-route-id="@serviceGroup.First().Id" >Edit</a> |
                            <a asp-controller="Services" asp-action="Delete" asp-route-id="@serviceGroup.First().Id">Delete</a>
                        </td>
                    </tr>

                }
            }
        </tbody>
    </table>

</div>